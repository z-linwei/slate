<table><thead>
<tr>
<th>版本号</th>
<th>修订人</th>
<th>更新日志</th>
<th>日期</th>
</tr>
</thead><tbody>
<tr>
<td>1.0.0</td>
<td>王梦思</td>
<td>提供开放接口</td>
<td>2019-10-31</td>
</tr>
<tr>
<td>1.0.1</td>
<td>王梦思</td>
<td>增加一些hrv指标</td>
<td>2019-12-18</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>注意: 该接口为服务器端调用，非客户端调用

使用步骤:

1. 向我们算法服务器接口提供者索要appSecret和appKey

2. 提供调用者服务器IP地址（白名单机制）,否则无法调用

3. 调用算法接口
</code></pre></div><h3 id='2eb291f695'>服务器地址</h3><div class="highlight"><pre class="highlight plaintext"><code>正式服: https://ecg.protontek.com/ecg-algorithm

测试服: https://ecgtest.protontek.com/ecg-algorithm（测试请使用）
</code></pre></div>
<table><thead>
<tr>
<th>接口名称</th>
<th>接口地址</th>
<th>请求方法</th>
<th>备注</th>
</tr>
</thead><tbody>
<tr>
<td>算法调用</td>
<td>/openapi/algorithm/call</td>
<td>POST</td>
<td>body体传参</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>请求头</th>
<th>字段用途</th>
<th>字段格式</th>
<th>备注</th>
</tr>
</thead><tbody>
<tr>
<td>appKey</td>
<td>appKey</td>
<td>String</td>
<td>算法服务器提供</td>
</tr>
<tr>
<td>appSecret</td>
<td>appSecret</td>
<td>String</td>
<td>算法服务器提供</td>
</tr>
<tr>
<td>content-type</td>
<td>POST请求数据格式</td>
<td>application/json</td>
<td></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>参数</th>
<th>字段用途</th>
<th>字段格式</th>
<th>备注</th>
</tr>
</thead><tbody>
<tr>
<td>callId</td>
<td>调用者的id</td>
<td>String</td>
<td>必须唯一，比如可以为报告id</td>
</tr>
<tr>
<td>dataSource</td>
<td>数据来源</td>
<td>String</td>
<td>可以为调用者公司名称或者项目名</td>
</tr>
<tr>
<td>rawData</td>
<td>原始心电数据</td>
<td>String</td>
<td>float值，用英文逗号隔开</td>
</tr>
<tr>
<td>callBackPath</td>
<td>回调地址</td>
<td>String</td>
<td>回调服务器必须支持POST请求，body体传参</td>
</tr>
</tbody></table>
<h3 id='ec66c381b3'>回调数据参数</h3>
<table><thead>
<tr>
<th>参数名</th>
<th>字段用途</th>
<th>字段格式</th>
<th>备注</th>
</tr>
</thead><tbody>
<tr>
<td>callId</td>
<td>调用算法传递的唯一id</td>
<td>String</td>
<td></td>
</tr>
<tr>
<td>AF</td>
<td>房颤</td>
<td>0/1</td>
<td>0无 1有</td>
</tr>
<tr>
<td>PB</td>
<td>早搏</td>
<td>0/1</td>
<td>0无 1有</td>
</tr>
<tr>
<td>aveHR</td>
<td>平均心率</td>
<td>Integer</td>
<td></td>
</tr>
<tr>
<td>maxHR</td>
<td>最大心率</td>
<td>Integer</td>
<td></td>
</tr>
<tr>
<td>minHR</td>
<td>最小心率</td>
<td>Integer</td>
<td></td>
</tr>
<tr>
<td>peakSum</td>
<td>心博总数</td>
<td>Integer</td>
<td></td>
</tr>
<tr>
<td>heartPace</td>
<td>心率快慢</td>
<td>Integer</td>
<td>0正常、1心动过缓、2心动过速</td>
</tr>
<tr>
<td>modelResult</td>
<td>模型结果</td>
<td>Integer</td>
<td></td>
</tr>
<tr>
<td>heartSlowTime</td>
<td>心动过缓时间</td>
<td>Integer</td>
<td>毫秒</td>
</tr>
<tr>
<td>heartFastTime</td>
<td>心动过速时间</td>
<td>Integer</td>
<td>毫秒</td>
</tr>
<tr>
<td>hrvScore</td>
<td>HRV分数</td>
<td>Integer</td>
<td></td>
</tr>
<tr>
<td>hrvIndex</td>
<td>HRV级别</td>
<td>Integer</td>
<td></td>
</tr>
<tr>
<td>alcoholRiskScore</td>
<td>饮酒风险分数</td>
<td>Integer</td>
<td></td>
</tr>
<tr>
<td>alcoholRiskIndex</td>
<td>饮酒风险级别</td>
<td>Integer</td>
<td></td>
</tr>
<tr>
<td>alcoholRiskDecrease</td>
<td>饮酒风险减分项</td>
<td>Integer</td>
<td></td>
</tr>
<tr>
<td>mentalStressScore</td>
<td>精神压力分数</td>
<td>Integer</td>
<td></td>
</tr>
<tr>
<td>mentalStressIndex</td>
<td>精神压力级别</td>
<td>Integer</td>
<td></td>
</tr>
<tr>
<td>mentalStressDecrease</td>
<td>精神压力减分项</td>
<td>Integer</td>
<td></td>
</tr>
<tr>
<td>sdnn</td>
<td>RR间期标准差</td>
<td>Float</td>
<td></td>
</tr>
<tr>
<td>rmssd</td>
<td>相邻RR间期差值到标准差</td>
<td>Float</td>
<td></td>
</tr>
<tr>
<td>tp</td>
<td>总功率</td>
<td>Float</td>
<td></td>
</tr>
<tr>
<td>fatigueScore</td>
<td>疲劳度指标</td>
<td>Float</td>
<td></td>
</tr>
<tr>
<td>vlf</td>
<td>超低频功率</td>
<td>Float</td>
<td></td>
</tr>
<tr>
<td>lf</td>
<td>低频功率</td>
<td>Float</td>
<td></td>
</tr>
<tr>
<td>hf</td>
<td>高频功率</td>
<td>Float</td>
<td></td>
</tr>
<tr>
<td>LFnorm</td>
<td>归一化低频功率</td>
<td>Float</td>
<td></td>
</tr>
<tr>
<td>HFnorm</td>
<td>归一化高频功率</td>
<td>Float</td>
<td></td>
</tr>
<tr>
<td>LFHFRatio</td>
<td>低频和高频功率比值</td>
<td>Float</td>
<td></td>
</tr>
<tr>
<td>filePath</td>
<td>文件路径</td>
<td>String</td>
<td>该文件存储在算法服务器，文件<br>为json格式，数据包含原始数据<br>，滤波数据，建议及时下载存储<br>到调用者服务器</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight plaintext"><code>注意事项：
接口调用限制了ip，需要将调用服务器ip加入白名单，否则会禁止调用
</code></pre></div>